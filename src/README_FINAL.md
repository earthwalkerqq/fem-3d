# 3D FEM Analysis - Исправленная версия

## Описание

Программа для 3D визуализации балки под действием нагрузки с анимированными деформациями. Все ошибки компиляции исправлены.

## Исправленные проблемы

1. ✅ **Ошибки компиляции**: Убраны предупреждения о неиспользуемых переменных
2. ✅ **Неправильные индексы узлов**: Исправлены индексы в файле модели балки
3. ✅ **Формат данных**: Модель теперь использует корректные тетраэдры (4 узла)
4. ✅ **Анимация деформаций**: Добавлена плавная анимация прогиба балки

## Модель

- **Геометрия**: 3D балка длиной 4 единицы
- **Узлы**: 20 узлов (индексы 1-20)
- **Элементы**: 48 тетраэдрических элементов
- **Закрепление**: Левый конец балки закреплен
- **Нагрузка**: Сила приложена в правом конце балки

## Особенности

### Анимация деформаций
- Реалистичная анимация прогиба балки
- Параболическая форма деформации
- Небольшое скручивание для реалистичности
- Настраиваемый масштаб деформации

### Визуализация
- Цветовое кодирование напряжений
- Пульсирующая стрелка нагрузки
- Оси координат для ориентации
- Каркасная отрисовка элементов

### Интерактивное управление
- Включение/выключение анимации
- Переключение режимов визуализации
- Управление масштабом деформации
- Поворот и масштабирование модели

## Управление

### Основные клавиши
- **A** - Включить/выключить анимацию деформации
- **S** - Переключить визуализацию напряжений
- **D** - Переключить отображение деформированной модели
- **L** - Показать/скрыть нагрузку

### Масштаб деформации
- **1** - Масштаб 0.5 (слабая деформация)
- **2** - Масштаб 1.0 (нормальная деформация)
- **3** - Масштаб 2.0 (сильная деформация)

### Навигация
- **R** - Сбросить вид
- **X/Y/Z** - Поворот вокруг осей
- **+/-** - Масштабирование
- **Q/ESC** - Выход

## Запуск

### Основная программа
```bash
# Компиляция и запуск
make clean && make
./fem3d

# Или используя скрипт
./run_beam.sh
```

### Простая тестовая версия
```bash
# Компиляция
gcc -o test_beam test_beam.c -framework OpenGL -framework GLUT -framework Cocoa -lm

# Запуск
./test_beam
```

## Структура файлов

- `main3d.c` - Основная программа с полной функциональностью
- `test_beam.c` - Простая тестовая версия
- `beam3d.txt` - Данные модели балки (исправленные)
- `run_beam.sh` - Скрипт запуска
- `BEAM_README.md` - Подробная документация

## Технические детали

- **OpenGL**: Для 3D рендеринга
- **GLUT**: Для управления окном и событиями
- **C**: Основной язык программирования
- **macOS**: Целевая платформа

## Физическая модель

Программа использует упрощенную физическую модель:
- Линейная упругость
- Параболический прогиб балки
- Максимальная деформация в свободном конце
- Затухание деформации к закрепленному концу

## Статус

✅ **Готово к использованию**
- Все ошибки компиляции исправлены
- Модель корректно загружается
- Анимация работает плавно
- Интерактивное управление функционирует 