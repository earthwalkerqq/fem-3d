# 3D FEM Analysis Program

Программа для расчета и визуализации трехмерных задач методом конечных элементов (МКЭ).

## Описание

Данная программа является расширением 2D FEM анализа для работы с трехмерными телами. Программа использует тетраэдры как конечные элементы и решает задачи упругости в трехмерном пространстве.

## Особенности

- **3D анализ**: Расчет напряжений и деформаций в трехмерных телах
- **Тетраэдры**: Использование четырехгранных элементов
- **Визуализация**: 3D отображение результатов с помощью OpenGL
- **Интерактивность**: Управление камерой и режимами отображения
- **Анимация**: Возможность анимации деформаций
- **Цветовое кодирование**: Отображение напряжений через цветовую схему

## Структура проекта

```
fem-3d/
├── src/                    # Исходный код
│   ├── main3d.c           # Основная программа
│   ├── fem3d.c            # Функции МКЭ
│   ├── formation_mtrx3d.c # Формирование матриц
│   ├── fem3d.h            # Заголовочные файлы
│   ├── formation_mtrx3d.h
│   └── Makefile           # Сборка проекта
├── nodes/                 # Файлы с данными
│   ├── node3d.txt        # Простая модель (8 узлов, 6 тетраэдров)
│   └── complex3d.txt     # Сложная модель (27 узлов, 48 тетраэдров)
├── dependencies/          # Библиотеки OpenGL
└── README.md             # Этот файл
```

## Сборка и запуск

### Требования

- GCC компилятор
- OpenGL библиотеки (GLEW, GLFW, GLUT)
- Математическая библиотека (libm)

### Сборка

```bash
cd fem-3d/src
make
```

### Запуск

```bash
./fem3d
```

## Управление

- **X, Y, Z**: Поворот модели вокруг осей
- **+, -**: Масштабирование
- **D**: Переключение деформированной модели
- **S**: Переключение отображения напряжений
- **V**: Переключение отображения сетки (ребер)
- **A**: Запуск/остановка анимации
- **ESC**: Выход

## Формат входных данных

Файл `nodes/node3d.txt` содержит:

1. Количество узлов
2. Координаты узлов (x, y, z)
3. Количество элементов
4. Номера узлов для каждого тетраэдра

Пример:
```
8
0.0 0.0 0.0
1.0 0.0 0.0
1.0 1.0 0.0
0.0 1.0 0.0
0.0 0.0 1.0
1.0 0.0 1.0
1.0 1.0 1.0
0.0 1.0 1.0
6
1 2 3 5
2 6 3 5
3 7 6 5
3 4 7 5
4 8 7 5
1 4 8 5
```

## Результаты

Программа выводит:
- Перемещения узлов
- Деформации в элементах
- Напряжения в элементах
- 3D визуализацию результатов с цветовым кодированием

## Технические детали

- **Степени свободы**: 3 на узел (x, y, z)
- **Элементы**: Линейные тетраэдры
- **Материал**: Изотропный упругий (E = 2.1e5, ν = 0.3)
- **Решатель**: LDLT разложение
- **Визуализация**: OpenGL с освещением и цветовым кодированием

## Примеры моделей

### Простая модель (node3d.txt)
- 8 узлов
- 6 тетраэдров
- Кубическая геометрия

### Сложная модель (complex3d.txt)
- 27 узлов
- 48 тетраэдров
- Более детальная сетка

## Разработка

Программа основана на 2D FEM анализе из проекта `fem-01` и расширена для работы с трехмерными задачами.

### Основные отличия от 2D версии:

1. **Трехмерные координаты**: Добавлена координата Z
2. **Тетраэдры вместо треугольников**: 4 узла на элемент
3. **6 компонент напряжений**: σxx, σyy, σzz, σxy, σxz, σyz
4. **6 компонент деформаций**: εxx, εyy, εzz, εxy, εxz, εyz
5. **3D матрица упругости**: 6x6 вместо 3x3
6. **3D визуализация**: OpenGL с поворотами и масштабированием

## Возможные улучшения

1. **Более сложные элементы**: Квадратичные тетраэдры
2. **Нелинейные материалы**: Пластичность, гиперупругость
3. **Динамический анализ**: Временные задачи
4. **Тепловой анализ**: Теплопроводность
5. **Экспорт результатов**: VTK, STL форматы
6. **Интерактивное моделирование**: Создание сеток в программе 